local UserInputService = game:GetService("UserInputService")
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()


local levels = {
    Low    = PhysicalProperties.new(0.2, 1.5, 0.2),
    Normal = PhysicalProperties.new(1, 1, 0.3),
    Better = PhysicalProperties.new(5, 0.6, 0.6),
    OP     = PhysicalProperties.new(12, 0.2, 1.2)
}

local levelOrder = { "Low", "Normal", "Better", "OP" }
local currentIndex = 1 


local function applyLevel()
    local props = levels[levelOrder[currentIndex]]
    for _, partName in ipairs({ "Head", "Torso", "Left Arm", "Right Arm" }) do
        local part = character:FindFirstChild(partName) or character:FindFirstChild(partName:gsub(" ", ""))
        if part and part:IsA("BasePart") then
            part.CustomPhysicalProperties = props
            part.CanCollide = false
            part.CanQuery = false
            part.CanTouch = true
        end
    end
end

local function showStrengthText(text)
    local screenGui = Instance.new("ScreenGui", game.CoreGui)
    screenGui.Name = "StrengthLevelUI"

    local label = Instance.new("TextLabel", screenGui)
    label.Size = UDim2.new(0, 200, 0, 40)
    label.Position = UDim2.new(0, 10, 1, -60)
    label.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    label.TextColor3 = Color3.fromRGB(0, 255, 127)
    label.Text = "Strength: " .. text
    label.Font = Enum.Font.GothamBold
    label.TextSize = 20
    label.BorderSizePixel = 0

    task.delay(5, function()
        screenGui:Destroy()
    end)
end

UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end

    if input.KeyCode == Enum.KeyCode.End then
        if currentIndex < #levelOrder then
            currentIndex += 1
            applyLevel()
            showStrengthText(levelOrder[currentIndex])
        end
    elseif input.KeyCode == Enum.KeyCode.F6 then
        if currentIndex > 1 then
            currentIndex -= 1
            applyLevel()
            showStrengthText(levelOrder[currentIndex])
        end
    end
end)

local ball = workspace:FindFirstChild("TPSSystem") and workspace.TPSSystem:FindFirstChild("TPS")
if ball then
    ball.CanCollide = false
    ball.CanQuery = false
    ball.CanTouch = true
end

applyLevel()

